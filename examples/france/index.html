<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>1kmÂ² Grid of France</title>
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
</head>

<body style="margin:0;">
    <div id="viz-container"></div>
</body>
<script src="../../build/gridviz.js"></script>
<script>
    let containerDiv = document.getElementById("viz-container");
    let viz = gridviz.App()
        .container(containerDiv)

        .title("1x1km Grid of France")
        .sourcesHTML("Source: <a target='__blank' href='https://insee.fr/fr/accueil'>INSEE</a>")
        .geoCenter([3709000, 2624000])//EPSG=3035
        .zoom(1000000)
        .nuts(true)
        .nutsLevel(3)
        .nutsCountry("FR")
        .nutsSimplification("03M")
        .EPSG(3035)
        .showPlacenames(true)
        .placenamesCountry("FR")
        .height(window.innerHeight)
        .width(window.innerWidth)
        .backgroundColor("#000")
        .nuts(true) //loads borders topojson
        .build()

        const s = new gridviz.ColorSizeShapeStyle({ "colorFunction": c => gridviz.color().interpolateOrRd(Math.pow(c["Inhabitants"], 0.6) / 100) })
        viz.addCSVGrid({
        url: "../../assets/csv/France/1km/2015_Ind.csv",
        resolution: 1000,
        styles: [s],
        minZoom: 0,
        maxZoom: 999999999
    });

</script>

</html>