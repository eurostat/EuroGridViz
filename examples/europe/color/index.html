<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>gridviz</title>
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
</head>

<body style="margin: 0">
    <div id="viz-container"></div>
</body>
<script src="../../../build/gridviz.js"></script>
<script>
    let containerDiv = document.getElementById("viz-container");

    let app = new gridviz
        .App()
        .container(containerDiv)
        .zoom(3000)
        .geoCenter([3900, 3170])
        .showPlacenames(true)
        .cellCount(true)
        .nuts(true)
        .zerosRemoved(3) // To reduce file size, zeros can be removed from the cell's x and y coordinates. Just let gridviz know how many have been removed here!
        .title("Population grids of Europe")
        .sourcesHTML("Source: <a target='__blank' href='https://ec.europa.eu/eurostat/web/gisco/geodata/'>GISCO</a>")
        .build();

    //define datasets, styles and layers
    const s5km = new gridviz.ColorSizeShapeStyle(
        {
            "colorFunction": c => gridviz.color().interpolateOrRd(Math.pow(c["population"], 0.5) / 100),
            "sizeFunction": c => 5,
            "shapeFunction": c => "square",
            "opacity": 1,
            "strokeWidth": 0.2,
            "strokeColor": 'grey'
        }
    )
    const s1km = new gridviz.ColorSizeShapeStyle(
        {
            "colorFunction": c => gridviz.color().interpolateOrRd(Math.pow(c["Population"], 0.6) / 100),
            "sizeFunction": c => 1,
            "shapeFunction": c => "square",
            "opacity": 1,
            "strokeWidth": 0.2,
            "strokeColor": 'black'
        }
    )


    app.addCSVGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/1km/pop_1km.csv",
        resolution: 1,
        styles: [s1km],
        minZoom: 0,
        maxZoom: 500
    });
    app.addCSVGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/5km/3035/pop_5km_zeros_removed.csv",
        resolution: 5,
        styles: [s5km],
        minZoom: 500,
        maxZoom: 999999999
    });

</script>

</html>