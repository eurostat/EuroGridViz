<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Average broadband download speed</title>
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

</head>

<body style="margin:0;">
    <div id="viz-container"></div>
</body>
<script src="../../../build/gridviz.js"></script>
<script>
    let containerDiv = document.getElementById("viz-container");
    //mobile
    let legendWidth;
    let legendHeight;
    if (window.screen.width < 600) {
        legendWidth = window.screen.width - 30; //margin
        legendHeight = 50;
    }
    let viz = gridviz.viewer()
        .container(containerDiv)
        .gridData([
            {
                url: "../../../assets/csv/Europe/ookla/ookla_dl_europe.csv",
                cellSize: 400
            }
        ])
        .mobileCellSize(0.00011)
        .title("Average broadband download speed")
        .subtitle("According to the FCC the minimum acceptable download speed for ISPs is 25MB/s. This grid contains 1.3 million cells.")
        .backgroundColor('#000')
        .colors([
            "#c51b7d", "#ad388a", "#945497",
            "#60A09A",
            "#40C0B9",
            "#00FFF6",
        ])
        .EPSG("3035")
        .showPlacenames(true)
        .cellCount(false)
        .homeButton(true)
        .zoomButtons(true)
        .thresholds([1, 10, 25, 50, 100, 1039])
        .colorField("mbps")  // csv column which you wish to visualize
        .legend({
            title: "Average download speed in MB/s (Q1 2020)",
            ticks: 6,
            width: legendWidth,
            height: legendHeight,
        })
        .tooltip({
            eventType: 'click'
        })
        .sourcesHTML("Source: <a target='__blank' href='https://github.com/teamookla/ookla-open-data'>Ookla open data</a>")
        .build()
</script>

</html>