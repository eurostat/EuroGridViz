<!DOCTYPE html>
<html lang="en" style="height: 100%">

<head>
    <meta name="viewport" content="maximum-scale=1.0, user-scalable=no" />
    <title>Gridviz - Shape/color/size style</title>
</head>

<body style="margin: 0; height: 100%; font-family: Arial, Helvetica, sans-serif; overflow: hidden">
    <div id="viz-container" style="height: 100%; width: 100%"></div>

    <script src="../../dist/gridviz.js"></script>
    <script>
        let containerDiv = document.getElementById('viz-container')

        const app = new gviz.App(containerDiv)
            .setGeoCenter({ x: 0, y: 0 })
            .setZoomFactor(0.02)

        const cells = [], nb = 20
        for (let x = 0; x < nb; x++) {
            cells.push({ x: x, y: 0, v: x / (nb-1) * 100 })
        }

        app.addLayerFromDataset(
            app.makeLGridDataset(1, cells
            ),
            [
                new gviz.NinjaStarStyle({
                    color: () => 'purple',
                    sizeCol: 'v',
                    size: (v, r, s, zf) => v / 100,
                }),
            ],
            {
                cellInfoHTML: (c) => c.v + "%",
            }
        )
    </script>
</body>

</html>