<!DOCTYPE html>
<html lang="en" style="height:100%;">

<head>
    <meta name="viewport" content="maximum-scale=1.0, user-scalable=no" />
    <title>Gridviz - example</title>
</head>

<body style="margin: 0; height:100%; font-family: Arial, Helvetica, sans-serif; overflow: hidden;">
    <div id="viz-container" style="height:100%; width:100%;"></div>

    <script src="../dist/gridviz.js"></script>
    <script>

        let containerDiv = document.getElementById("viz-container");

        new gviz.App(containerDiv)
            .setGeoCenter({ x: 4626953, y: 2826791 }).setZoomFactor(700)
            .setBackgroundColor("#eee")
            .setBoundaryLayer({
                url: "https://raw.githubusercontent.com/eurostat/Nuts2json/master/pub/v2/2021/3035/03M/nutsbn_3.json",
                color: (f, zf) => {
                    const p = f.properties
                    if (p.co === "T") return "#888"
                    if (zf < 400) return "#888"
                    else if (zf < 1000) return p.lvl >= 3 ? "" : "#888"
                    else if (zf < 2000) return p.lvl >= 2 ? "" : "#888"
                    else return p.lvl >= 1 ? "" : "#888"
                },
                width: (f, zf) => {
                    const p = f.properties
                    if (p.co === "T") return 0.5
                    if (zf < 400) return p.lvl == 3 ? 2.2 : p.lvl == 2 ? 2.2 : p.lvl == 1 ? 2.2 : 4
                    else if (zf < 1000) return p.lvl == 2 ? 1.8 : p.lvl == 1 ? 1.8 : 2.5
                    else if (zf < 2000) return p.lvl == 1 ? 1.8 : 2.5
                    else return 1.2
                },
                lineDash: (f, zf) => {
                    const p = f.properties
                    if (p.co === "T") return []
                    if (zf < 400) return p.lvl == 3 ? [2 * zf, 2 * zf] : p.lvl == 2 ? [5 * zf, 2 * zf] : p.lvl == 1 ? [5 * zf, 2 * zf] : [10 * zf, 3 * zf]
                    else if (zf < 1000) return p.lvl == 2 ? [5 * zf, 2 * zf] : p.lvl == 1 ? [5 * zf, 2 * zf] : [10 * zf, 3 * zf]
                    else if (zf < 2000) return p.lvl == 1 ? [5 * zf, 2 * zf] : [10 * zf, 3 * zf]
                    else return [10 * zf, 3 * zf]
                }
            })
            .redraw()

    </script>

</body>

</html>