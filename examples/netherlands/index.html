<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Netherlands 100m grid</title>
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
  </head>

  <body style="margin: 0">
    <div id="viz-container"></div>
  </body>
  <script src="../../build/gridviz.js"></script>
  <script>
    let containerDiv = document.getElementById("viz-container");
    let viz = gridviz
      .app()
      .container(containerDiv)
      .title("100 x 100m statistics of the Netherlands")
      .cellCount(true)
      .sourcesHTML(
        "Source: <a target='__blank' href='https://www.cbs.nl/nl-nl/dossier/nederland-regionaal/geografische-data/kaart-van-100-meter-bij-100-meter-met-statistieken'>Statistics Netherlands</a>"
      )
      .zerosRemoved(2)
      .geoCenter([1720, 4500]) //EPSG=28992 with 2 zeros removed
      .showPlacenames(true)
      .EPSG(28992) // for placenames service
      .placenamesCountry("NL")
      .placenameThresholds({
        //"scale": population
        1500: 200000,
        1250: 100000,
        1000: 100000,
        500: 50000,
        250: 10000,
      })
      .zoom(5000)
      .height(window.innerHeight)
      .width(window.innerWidth)
      .backgroundColor("#2b2b2b")
      .highlightColor('cyan')
      .build();


  const s = gridviz.colorSizeShapeStyle({
      colorFunction: c => {
        if (c["Inhabitants"] > 900) return "#8c2d04";
        if (c["Inhabitants"] > 300) return "#cc4c02";
        if (c["Inhabitants"] > 200) return "#ec7014";
        if (c["Inhabitants"] > 80) return "#fe9929";
        if (c["Inhabitants"] > 40) return "#fec44f";
        if (c["Inhabitants"] > 20) return "#fee391";
        if (c["Inhabitants"] > 0) return "#ffffd4";
      }
    }
  )

  viz.addCSVGrid({
    url: "../../assets/csv/Netherlands/100m/NL_census.csv",
    resolution: 1,
    styles: [s],
    minZoom: 0,
    maxZoom: 999999999
  });
  </script>
</html>
