<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Croatian Tourism Grid</title>
  <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
  <meta name="viewport" content="width=device-width" />
</head>

<body style="margin: 0">
  <div id="viz-container"></div>
</body>
<script src="../../build/gridviz.js"></script>
<script>
  let containerDiv = document.getElementById("viz-container");
  let app = new gridviz
    .App()
    .container(containerDiv)
    .title("Tourism Grid of Croatia")
    .zoom(500000) //initial camera Z value
    .nuts(true) //loads borders topojson
    .nutsCountry("HR") //filter nuts
    .nutsSimplification("03M")
    .nutsLineWidth(0.0005)
    .nutsLineColor('white')
    .placenamesCountry("HR") //filter placenames
    .placenameThresholds({
      //"scale": population
      450000: 200000,
      200000: 10000,
      100000: 5000,
      10000: 5000,
      1000: 500,
    })
    .placenamesCountry("HR")
    .placenameThresholds({
      //"scale": population
      1500: 200000,
      1250: 100000,
      1000: 100000,
      500: 50000,
      250: 10000,
    })
    .backgroundColor("black")
    .geoCenter([4755000, 2369000]) //EPSG=3035
    .legend({
      width: "300",
      title: "Total tourist nights per kmÂ² (2017)",
      titleWidth: 150,
      cells: 10,
      format: ",.2r",
    })
    .build();

    const s = new gridviz.ColorSizeShapeStyle({ "colorFunction": c => gridviz.color().interpolateYlOrRd(Math.pow(c["NIGHTS_TOT"], 0.6) / 100) })
  app.addCSVGrid(
    {
      url: "../../assets/csv/Croatia/croatia_tourism_grid.csv",
      styles: [s],
      resolution: 1100,
      //colorField: "NIGHTS_TOT",
      minZoom: 0,
        maxZoom: 999999999
    },
  )
</script>

</html>