census demo: legends

ksmooth:
- deal with sigma = 0 - return 1, dirac case
- test sigma as multiple of resolution instead of nb of screen pixels

bug when zooming-in: square gets too small.
        app.addCSVGridLayer(
            "https://raw.githubusercontent.com/jgaffuri/tiledgrids/master/data/test/single.csv",
            1,
            [
                new gviz.SquareColorWGLStyle({
                            colorCol: "value",
                            tFun: (v) => v/100
                        })
            ]
        )




publish and document tiler
document tile format

finalise: elevation, lc, forest
contour style: interval (min, max) => ... and color (val, min, max => ...
elevation legend

test on various navigators - smartphones
parquet: monitor, improve

add CSV grid layer example: bug? check !
use async await +++
"use strict";

parquet: make wasm import easier...

possibility to make layers based on several datasets

V3:
make modules
see https://webpack.js.org/guides/code-splitting/

geotiff tiling - use for forest/CLC/elevation 200m ?

webpack: check plugins https://webpack.js.org/plugins

https://ieeexplore.ieee.org/document/1532144
https://observablehq.com/@spren9er/two-tone-pseudo-color-scales


https://jnafzig.github.io//2018/02/05/double-pendulum.html


cat/size legend: center vertically



Drought: https://edo.jrc.ec.europa.eu/edov2/php/index.php?id=1000
internet connection quality map - see OOKLA dataset - https://github.com/teamookla/ookla-open-data
https://edgar.jrc.ec.europa.eu/emissions_data_and_maps


style polygon, to show urbanised areas only from CLC

StrokeStyle - remove unnecessary colorCol property, when color is static

EUR: population - style dropdown
EUR: Add others layers. internet? Farm? Other copernicus?

FR: add text: Pour des raisons de confidentialité, ces données ont été modifiées.

document
pillar: make random example
color cat: from dict to function ?

EUR elevation: use filter to show urb/water ?

TODO document euronyme

FR BD foret

zoom in/out

Legends: improve, extend, add missing, finalise.
TODO show several elements on size legend
legend for discrete color classes - use for accessibility map legend

mosaic: improve. No scintillement with pseudo random

Pollock style: https://www.arcgis.com/apps/webappviewer/index.html?id=661d96be9fe64b3db4124546b67b2f39
+ others

style: rough.js

fisheye effect
segment orientation
https://openprocessing.org/sketch/1687044/

dot density composition style
improve performance of dotstyle - map every single individual

TODO smoothing: test d3.blur2 https://github.com/d3/d3-array/blob/main/README.md#blur2 see https://observablehq.com/@d3/d3-blur
https://gist.github.com/jasonkit/c5b4fd62e8cbfe2780cc
https://blog.ivank.net/fastest-gaussian-blur.html
https://github.com/amilajack/gaussian-blur

Joyplot as nicer thick slices, with shadow effect
Test segment orientation / color / thickness

TODO test tchernioff faces - on FILOSOFI - as simplified smileys ?
https://www.esri.com/arcgis-blog/products/arcgis-pro/mapping/chernoff-faces/

jsdoc
JSDOC bug: https://stackoverflow.com/questions/25773222/
https://eurostat.github.io/gridviz/docs/index.html
https://jsdoc.app/about-commandline.html
jsdoc src -r -d=docs
npm run docs

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

consider other formats: arrow, HDF5, ORC, protobuffer

https://observablehq.com/@bmschmidt/arxiv
https://github.com/CreatingData/deepscatter

geotiff
https://geotiffjs.github.io/
https://github.com/geotiffgeotiff.

new EUR layers:
https://land.copernicus.eu/global/products/
https://land.copernicus.eu/pan-european/high-resolution-layers


Style test: show as hexagonal grid - for circular symbols (?)

TODO use webgl for sideStyle? Make it possible to build sides on GPU ?

value by alpha style: implement it for income map + accessibility

TODO kernel smoothing: fix artifact - empty line below from center point toward south

TODO use canvas shadow? https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowBlur
TODO use canvas.drawimage to make style whith 1 square icon per cell - emoticon

TODO make tests using offset ?
TODO aggregation on the fly ??? No. except for csv...
TODO watercolor style ? Draw random plots around central point of pixel - https://github.com/rolyatmax/watercolor-canvas

TODO map style: contours with color

TODO legend - handle orientation in segment width legend

TODO map type: bi/tri-variate colors ?

TODO check IE, firefox
TODO fix compilation problems + add more typescript types
TODO map style: cell based on its neighboors. Contour like ?
TODO style with arrows (left, right) (as segment enrichment ?)
TODO map type: composition as linesup... pile of lines
TODO map type: composition as donut ring ?
TODO map type: composition as stripped circles
TODO map style: joyplot composition
TODO linesup: Test with changeable width and fixed height ?
TODO window resize
TODO better shaded characterset for text style
TODO joyplot: fill color depending on value ? for negative/positive values
TODO improve halftone: use Halton sequence

TODO test canvas performance improvements: https://www.html5rocks.com/en/tutorials/canvas/performance/ and https://stackoverflow.com/questions/8205828/html5-canvas-performance-and-optimization-tips-tricks-and-coding-best-practices
TODO test canvas performance improvements: test image drawing https://github.com/uwdata/fast-kde/blob/main/src/heatmap.js

TODO limit pan

TODO empty tile cache: timestamp tiles + count number of redraws. Empty cache and remove inpriority the old-unused tiles.

TODO map type: trendline - with ENACT dataset ? https://ghsl.jrc.ec.europa.eu/ENACT_POP.php  NO population ?
TODO map type: contour style. and hypsometric. See https://observablehq.com/@d3/density-contours https://observablehq.com/@sahilchinoy/contour-map?collection=@sahilchinoy/geo-experiments


check copernicus urban atlas
copernicus global land cover: https://land.copernicus.eu/global/products/lc


TODO test gridded datasets:
NL: https://www.cbs.nl/nl-nl/dossier/nederland-regionaal/geografische-data/kaart-van-100-meter-bij-100-meter-met-statistieken
World: https://wopr.worldpop.org/?NGA/Population/v2.0
HR: https://geostat.dzs.hr/?lang=en   1km. toutirsm, education, businesses, etc. Request sent.
AT: https://www.statistik.at/atlas/?mapid=them_bevoelkerung_bevoelkerungsstand&layerid=layer1&sublayerid=sublayer0&languageid=1
https://www.statistik.at/en/services/tools/services/regional-information/regional-statistics
250m population by year... not free. free: 10km sample. Citizenship/origin
IT: http://gisportal.istat.it/GriAnalyst
griglia di popolazione 2011 https://www.istat.it/it/archivio/155162
FI: https://kartta.paikkatietoikkuna.fi/?lang=en
1km. pop by gender and age, yearly since 2005.
http://www.stat.fi/org/avoindata/paikkatietoaineistot/vaestoruutuaineisto_1km_en.html
as WFS: https://geo.stat.fi/geoserver/vaestoruutu/wfs
SE: https://www.scb.se/en/services/open-data-api/open-geodata/grid-statistics/
IE: https://www.cso.ie/en/census/census2016reports/workplacezonesand1kmpopulationgrids/
EE: https://estat.stat.ee/StatistikaKaart/VKR
SI: https://gis.stat.si/#lang=en
UK-NI: irregular grid - with 100m. population https://www.nisra.gov.uk/support/geography/grid-square-products
NO:
Statistics Norway: https://kart.ssb.no/
For more grid statistics (Norwegian only): https://www.ssb.no/natur-og-miljo/areal/artikler/kart-og-geodata-fra-ssb
250m population by gender. many years.
Kart og geodata fra SSB (own homepage, search for «Nedlasting av rutenettstatistikk»)
Befolkningsstatistikk (POP) (250m / 1000m / 5000m) - Population statistics
Boligstatistikk (DWE) (250m / 1000m / 5000m) - Dwelling statistics
Bygningsmassen (BUI) (250m / 1000m / 5000m) - Construction statistics
Virksomhetsstatistikk (EST) (250m / 1000m / 5000m) - Enterprise statistics
Landbrukseiendommer (AGP) (1000m / 5000m) - Agricultural properties
Jordbruksstatistikk (AGH) (1000m / 5000m) - Agricultural holdings
Handels- og serviceruter/-soner (250m) - Commerce and service routes/zones

ideamapsnetwork.org - developing a gridded dataset on urban poverty
US Census Bureau International Database and Subnational Projections (for PEPFAR countries) has extensive time series data through 2100 as well - Samuel I Dupre (CENSUS/POP FED)
WorldPop - long time series

https://ghsl.jrc.ec.europa.eu/ESMVisualisation.php
https://ghsl.jrc.ec.europa.eu/enactVisualisation.php


Census 2021:
- Gender (males, females)
- Age (under 15, 15 to 64, 65 and over)
- Employment
- Place of birth (in the reporting country, in another EU country, outside EU)
- Usual residence 12 months before (unchanged, within reporting country, outside of the reporting country).

