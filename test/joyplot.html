<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>gridviz</title>
    <link rel="shortcut icon" href="../../assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
</head>

<body style="margin: 0">
    <div id="gridviz"></div>
</body>

<script src="../build/gridviz.js"></script>
<script>
    let containerDiv = document.getElementById("gridviz");
    //make application
    const app = new gridviz.App()
        .container(containerDiv)
        .geoCenter([4000000, 2500000])
        .title("gridviz population Joyplot")
        .showPlacenames(true)
        .backgroundColor("black")
        .highlightColor("red")
        .cellCount(true)
        .zoom(1500000) //initial camera Z value
        .nuts(true)
        .build()

    //define datasets, styles and layers
    const s = new gridviz.JoyPlotStyle({
        "heightFunction": c => 50 * Math.sqrt(c["2011"]),
        "lineColor": "white",
        //"lineWidth": 0.0016
    })

    app.addTiledGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/1km/",
        styles: [s],
        minZoom: 0,
        maxZoom: 100000
    });
    app.addTiledGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/2km/",
        styles: [s],
        minZoom: 100000,
        maxZoom: 300000
    })
    app.addTiledGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/5km/",
        styles: [s],
        minZoom: 300000,
        maxZoom: 800000
    })
    app.addTiledGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/10km/",
        styles: [s],
        minZoom: 800000,
        maxZoom: 4000000
    })
    app.addTiledGrid({
        url: "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/20km/",
        styles: [s],
        minZoom: 4000000,
        maxZoom: 9999999999
    })

</script>
</body>

</html>