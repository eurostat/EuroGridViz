make style "webGL pixel color" independant

style for cell border - independant. No size, just square/circle, stroke width and color + zoom limit

improve performence:
check "cg.redraw" intensity
check gl parameters?
simplify - move more computation to fragment side


TODO BIG DEPLOY ?


    //https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html
    //2D section

    //https://medium.com/trabe/a-brief-introduction-to-webgl-5b584db3d6d6
    //https://observablehq.com/d/dfb2674035a1f388
    //https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Adding_2D_content_to_a_WebGL_context
    //https://webglfundamentals.org/webgl/lessons/webgl-drawing-multiple-things.html


TODO webgl: use for all styles where filled rectangles
dot density
sideStyle - new webGL class for line segments ?

value by alpha style: implement it for income map + accessibility

webgl: draw elements VS draw array


TODO simplify tiled multires creation
TODO show several elements on size legend
TODO deploy accessiblity grid - as tanaka ?


TODO adapt tanaka and lego to diverging - use on EUR pop change
TODO kernel smoothing: fix artifact - empty line below from center point toward south

TODO use canvas shadow? https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowBlur
TODO use canvas.drawimage to make style whith 1 square icon per cell - emoticon

TODO make tests using offset ?
TODO aggregation on the fly ??? No. except for csv...
TODO chocolate style
TODO watercolor style ? Draw random plots around central point of pixel - https://github.com/rolyatmax/watercolor-canvas

TODO smoothing: test d3.blur2 https://github.com/d3/d3-array/blob/main/README.md#blur2 see https://observablehq.com/@d3/d3-blur

TODO test data NO - 250m. long timeseries
TODO test data on NL
TODO legend refresh on composition

TODO tw size+rate example: Gender balance SE ? population, youth VS old FR ? Income FR ?
TODO map style: contours with color

TODO legend - donut + pillar + characters
TODO legend - handle orientation in segment width legend
TODO document and improve euronyme
TODO fix euronym - local names, with accents ?

TODO map type: value by alpha ?
TODO map type: bi/tri-variate colors ?

TODO check IE, firefox
TODO fix compilation problems + add more typescript types
TODO map style: cell based on its neighboors. Contour like ?
TODO test tchernioff faces - on FILOSOFI - as simplified smileys ?
TODO style with arrows (left, right) (as segment enrichment ?)
TODO map type: composition as linesup... pile of lines
TODO map type: composition as donut ring ?
TODO map type: composition as stripped circles
TODO map style: joyplot composition
TODO linesup: Test with changeable width and fixed height ?
TODO use filosofi 2017 to show evolutions
TODO background image ? with relief shading.
TODO window resize
TODO better shaded characterset for text style
TODO more efficient multiscale layer creation?
TODO joyplot: fill color depending on value ? for negative/positive values
TODO improve halftone: use Halton sequence

check https://blog.scottlogic.com/2020/05/01/rendering-one-million-points-with-d3.html and https://blog.scottlogic.com/2021/10/15/efficiently-loading-massive-d3-datasets-using-apache-arrow.html
TODO improve efficiency - on zoom/pan, interrupt all existing redraws ? Redraw only on mouse release? Use time and redraw only every X ms ?
TODO test canvas performance improvements: https://www.html5rocks.com/en/tutorials/canvas/performance/ and https://stackoverflow.com/questions/8205828/html5-canvas-performance-and-optimization-tips-tricks-and-coding-best-practices
TODO test canvas performance improvements: test image drawing https://github.com/uwdata/fast-kde/blob/main/src/heatmap.js
TODO debug requests intensity - last check, etc. ! to ensure sent only once. Use promise ?
TODO mouse over: Show rectangle. Ask SE

TODO on pan/zoom, hide tooltip
TODO limit pan

TODO tiled datasets: accessibility (merge datasets), NL, etc.
TODO make nice test with combination - need for client side join?
TODO empty tile cache: timestamp tiles + count number of redraws. Empty cache and remove inpriority the old-unused tiles.

TODO map type: trendline - with ENACT dataset ? https://ghsl.jrc.ec.europa.eu/ENACT_POP.php
TODO map type: contour style. and hypsometric. See https://observablehq.com/@d3/density-contours https://observablehq.com/@sahilchinoy/contour-map?collection=@sahilchinoy/geo-experiments

TODO webGL investigation
TODO background - images ?



TODO test gridded datasets:
NL: https://www.cbs.nl/nl-nl/dossier/nederland-regionaal/geografische-data/kaart-van-100-meter-bij-100-meter-met-statistieken
World: https://wopr.worldpop.org/?NGA/Population/v2.0
HR: https://geostat.dzs.hr/?lang=en   1km. toutirsm, education, businesses, etc. Request sent.
AT: https://www.statistik.at/atlas/?mapid=them_bevoelkerung_bevoelkerungsstand&layerid=layer1&sublayerid=sublayer0&languageid=1
https://www.statistik.at/en/services/tools/services/regional-information/regional-statistics
250m population by year... not free. free: 10km sample. Citizenship/origin
IT: http://gisportal.istat.it/GriAnalyst
griglia di popolazione 2011 https://www.istat.it/it/archivio/155162
FI: https://kartta.paikkatietoikkuna.fi/?lang=en
1km. pop by gender and age, yearly since 2005.
http://www.stat.fi/org/avoindata/paikkatietoaineistot/vaestoruutuaineisto_1km_en.html
as WFS: https://geo.stat.fi/geoserver/vaestoruutu/wfs
SE: https://www.scb.se/en/services/open-data-api/open-geodata/grid-statistics/
IE: https://www.cso.ie/en/census/census2016reports/workplacezonesand1kmpopulationgrids/
EE: https://estat.stat.ee/StatistikaKaart/VKR
SI: https://gis.stat.si/#lang=en
UK-NI: irregular grid - with 100m. population https://www.nisra.gov.uk/support/geography/grid-square-products
NO: 250m population by gender. many years.
Kart og geodata fra SSB (own homepage, search for «Nedlasting av rutenettstatistikk»)
Befolkningsstatistikk (POP) (250m / 1000m / 5000m) - Population statistics
Boligstatistikk (DWE) (250m / 1000m / 5000m) - Dwelling statistics
Bygningsmassen (BUI) (250m / 1000m / 5000m) - Construction statistics
Virksomhetsstatistikk (EST) (250m / 1000m / 5000m) - Enterprise statistics
Landbrukseiendommer (AGP) (1000m / 5000m) - Agricultural properties
Jordbruksstatistikk (AGH) (1000m / 5000m) - Agricultural holdings
Handels- og serviceruter/-soner (250m) - Commerce and service routes/zones




Census 2021:
- Gender (males, females)
- Age (under 15, 15 to 64, 65 and over)
- Employment
- Place of birth (in the reporting country, in another EU country, outside EU)
- Usual residence 12 months before (unchanged, within reporting country, outside of the reporting country).



