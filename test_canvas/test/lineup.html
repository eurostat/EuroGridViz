<!DOCTYPE html>
<html lang="en" style="height:100%;">

<head>
    <title></title>
</head>

<body style="margin: 0; height:100%; font-family: Arial, Helvetica, sans-serif; overflow: hidden;">
    <canvas id="vacanvas" style="height:100%; width:100%;"></canvas>

    <svg width="50" height="50" style="position: absolute; left: -250px; top:320px;z-index: 2; fill:none; background: none; user-select: none; -moz-user-select: none; -khtml-user-select: none; -webkit-user-select: none; -o-user-select: none;">
        <rect width="50" height="50" style="fill:none; background: none; stroke-width:5; stroke:purple; user-select: none; -moz-user-select: none; -khtml-user-select: none; -webkit-user-select: none; -o-user-select: none;" />
    </svg>

    <script src="../build/gridvizc.js"></script>
    <script>

        //make application
        const app = new gviz.App()
            .setGeoCenter({ x: 4000000, y: 2960000 }).setZoomFactor(700).setZoomFactorExtent([5, 6000]).setLabelLayer(gviz.getEuronymeLabelLayer())

        //test view from URL parameters, if any
        app.cg.setViewFromURL()

        //define datasets, styles and layers
        const s = new gviz.LineUpStyle({
            heightCol: "2018",
            //color: () => "red",
            height: (v, r, s) => 15 * r * Math.pow(v / s.max, 0.3),
        })

        const ttfun = c => "Inhabitant(s)<br>2018: <b>" + c["2018"] + "</b><br>2011: <b>" + c["2011"] + "</b><br>2006: <b>" + c["2006"] + "</b>"
        const url = "https://raw.githubusercontent.com/eurostat/gridviz/master/assets/csv/Europe/grid_pop_tiled/"
        app.addTiledGridLayer(url + "1km/", [s], 0, 50, { cellInfoHTML: ttfun });
        app.addTiledGridLayer(url + "2km/", [s], 50, 100, { cellInfoHTML: ttfun });
        app.addTiledGridLayer(url + "5km/", [s], 100, 200, { cellInfoHTML: ttfun });
        app.addTiledGridLayer(url + "10km/", [s], 200, 400, { cellInfoHTML: ttfun });
        app.addTiledGridLayer(url + "20km/", [s], 400, 9999999999, { cellInfoHTML: ttfun });

    </script>
</body>

</html>